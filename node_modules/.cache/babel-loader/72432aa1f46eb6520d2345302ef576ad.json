{"remainingRequest":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/src/components/tab/tab.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/src/components/tab/tab.vue","mtime":1551337500772},{"path":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'tab',\n  components: {},\n  props: {\n    tabs: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    initialIndex: {\n      type: Number,\n      default: 0\n    }\n  },\n  data: function data() {\n    return {\n      index: this.initialIndex,\n      slideOptions: {\n        listenScroll: true,\n        probeType: 3,\n        directionLockThreshold: 0\n      }\n    };\n  },\n  computed: {\n    selectedLabel: {\n      get: function get() {\n        return this.tabs[this.index].label;\n      },\n      set: function set(newValue) {\n        this.index = this.tabs.findIndex(function (value) {\n          return value.label === newValue;\n        });\n      }\n    }\n  },\n  watch: {\n    selectedLabel: function selectedLabel(val) {\n      console.log('ww:', val);\n    }\n  },\n  mounted: function mounted() {\n    this.onChange(this.index);\n  },\n  methods: {\n    onChange: function onChange(current) {\n      this.index = current;\n      var instance = this.$refs.tabComponents[current];\n\n      if (instance && instance.fetch) {\n        instance.fetch();\n      }\n    },\n    onScroll: function onScroll(pos) {\n      var tabBarWidth = this.$refs.tabBar.$el.clientWidth;\n      var slideWidth = this.$refs.slide.slide.scrollerWidth;\n      var transform = -pos.x / slideWidth * tabBarWidth;\n      this.$refs.tabBar.setSliderTransform(transform);\n    }\n  }\n};",{"version":3,"sources":["tab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA,KADA;AAOA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAPA,GALA;AAiBA,EAAA,IAjBA,kBAiBA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KAAA,YADA;AAEA,MAAA,YAAA,EAAA;AACA,QAAA,YAAA,EAAA,IADA;AAEA,QAAA,SAAA,EAAA,CAFA;AAGA,QAAA,sBAAA,EAAA;AAHA;AAFA,KAAA;AAQA,GA1BA;AA2BA,EAAA,QAAA,EAAA;AACA,IAAA,aAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,IAAA,CAAA,KAAA,KAAA,EAAA,KAAA;AACA,OAHA;AAIA,MAAA,GAJA,eAIA,QAJA,EAIA;AACA,aAAA,KAAA,GAAA,KAAA,IAAA,CAAA,SAAA,CAAA,UAAA,KAAA,EAAA;AACA,iBAAA,KAAA,CAAA,KAAA,KAAA,QAAA;AACA,SAFA,CAAA;AAGA;AARA;AADA,GA3BA;AAwCA,EAAA,KAAA,EAAA;AACA,IAAA,aADA,yBACA,GADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,GAAA;AACA;AAHA,GAxCA;AA6CA,EAAA,OA7CA,qBA6CA;AACA,SAAA,QAAA,CAAA,KAAA,KAAA;AACA,GA/CA;AAgDA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,OADA,EACA;AACA,WAAA,KAAA,GAAA,OAAA;AACA,UAAA,QAAA,GAAA,KAAA,KAAA,CAAA,aAAA,CAAA,OAAA,CAAA;;AACA,UAAA,QAAA,IAAA,QAAA,CAAA,KAAA,EAAA;AACA,QAAA,QAAA,CAAA,KAAA;AACA;AACA,KAPA;AAQA,IAAA,QARA,oBAQA,GARA,EAQA;AACA,UAAA,WAAA,GAAA,KAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,WAAA;AACA,UAAA,UAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,aAAA;AACA,UAAA,SAAA,GAAA,CAAA,GAAA,CAAA,CAAA,GAAA,UAAA,GAAA,WAAA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,kBAAA,CAAA,SAAA;AACA;AAbA;AAhDA,CAAA","sourcesContent":["<template>\n  <div class=\"tab\">\n    <cube-tab-bar\n       :useTransition=false\n      :showSlider=true\n      v-model=\"selectedLabel\"\n      :data=\"tabs\"\n      ref=\"tabBar\"\n      class=\"border-bottom-1px\"\n    >\n    </cube-tab-bar>\n    <div class=\"slide-wrapper\">\n      <cube-slide\n        :loop=false\n        :auto-play=false\n        :show-dots=false\n        :initial-index=\"index\"\n        ref=\"slide\"\n        :options=\"slideOptions\"\n        @scroll=\"onScroll\"\n        @change=\"onChange\"\n      >\n        <cube-slide-item v-for=\"(tab,index) in tabs\" :key=\"index\">\n          <component ref=\"tabComponents\" :is=\"tab.component\" :data=\"tab.data\"></component>\n        </cube-slide-item>\n      </cube-slide>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'tab',\n    components:{\n\n    },\n     props: {\n      tabs: {\n        type: Array,\n        default() {\n          return []\n        }\n      },\n      initialIndex: {\n        type: Number,\n        default: 0\n      }\n    },\n    data() {\n      return {\n        index: this.initialIndex,\n         slideOptions: {\n          listenScroll: true,\n          probeType: 3,\n          directionLockThreshold: 0\n        }\n      }\n    },\n    computed: {\n      selectedLabel: {\n        get() {\n          return this.tabs[this.index].label\n        },\n        set(newValue){\n            this.index=this.tabs.findIndex((value)=>{\n                return value.label===newValue\n            })\n        }\n    \n      }\n    },\n    watch:{\n        selectedLabel(val){\n            console.log('ww:',val)\n        }\n    },\n    mounted() {\n        this.onChange(this.index)\n    },\n    methods: {\n      onChange(current){\n           this.index = current\n            const instance = this.$refs.tabComponents[current]\n            if (instance && instance.fetch) {\n            instance.fetch()\n            }\n      },\n      onScroll(pos){\n           const tabBarWidth=this.$refs.tabBar.$el.clientWidth;\n           const slideWidth = this.$refs.slide.slide.scrollerWidth;\n            const transform = -pos.x / slideWidth * tabBarWidth\n            this.$refs.tabBar.setSliderTransform(transform)\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" scoped>\n  @import \"~common/stylus/variable\"\n  .tab\n    display: flex\n    flex-direction: column\n    height: 100%\n    >>> .cube-tab\n      padding: 10px 0\n    .slide-wrapper\n      flex: 1\n      overflow: hidden\n</style>\n"],"sourceRoot":"src/components/tab"}]}