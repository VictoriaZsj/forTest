{"remainingRequest":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/src/components/shop-cart-list/shop-cart-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/src/components/shop-cart-list/shop-cart-list.vue","mtime":1551410054409},{"path":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengsijie/Documents/testZsj/testVue/vue-sell-cube-zsj/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CartControl from 'components/cart-control/cart-control';\nimport popupMixin from 'common/mixins/popup';\nvar EVENT_SHOW = 'show';\nvar EVENT_ADD = 'add';\nvar EVENT_LEAVE = 'leave';\nexport default {\n  name: 'shop-cart-list',\n  mixins: [popupMixin],\n  props: {\n    selectFoods: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$on(EVENT_SHOW, function () {\n      _this.$nextTick(function () {\n        _this.$refs.listContent.refresh();\n      });\n    });\n  },\n  methods: {\n    onAdd: function onAdd(target) {\n      this.$emit(EVENT_ADD, target);\n    },\n    afterLeave: function afterLeave() {\n      this.$emit(EVENT_LEAVE);\n    },\n    maskClick: function maskClick() {\n      this.hide();\n    },\n    empty: function empty() {\n      var _this2 = this;\n\n      this.dialogComp = this.$createDialog({\n        type: 'confirm',\n        content: '清空购物车？',\n        $events: {\n          confirm: function confirm() {\n            _this2.selectFoods.forEach(function (food) {\n              food.count = 0;\n            });\n\n            _this2.hide();\n          }\n        }\n      });\n      this.dialogComp.show();\n    }\n  },\n  components: {\n    CartControl: CartControl\n  }\n};",{"version":3,"sources":["shop-cart-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAA,WAAA,MAAA,sCAAA;AACA,OAAA,UAAA,MAAA,qBAAA;AAEA,IAAA,UAAA,GAAA,MAAA;AACA,IAAA,SAAA,GAAA,KAAA;AACA,IAAA,WAAA,GAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,MAAA,EAAA,CAAA,UAAA,CAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA;AADA,GAHA;AAWA,EAAA,OAXA,qBAWA;AAAA;;AACA,SAAA,GAAA,CAAA,UAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,WAAA,CAAA,OAAA;AACA,OAFA;AAGA,KAJA;AAKA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,iBACA,MADA,EACA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AACA,WAAA,KAAA,CAAA,WAAA;AACA,KANA;AAOA,IAAA,SAPA,uBAOA;AACA,WAAA,IAAA;AACA,KATA;AAUA,IAAA,KAVA,mBAUA;AAAA;;AACA,WAAA,UAAA,GAAA,KAAA,aAAA,CAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,OAAA,EAAA,QAFA;AAGA,QAAA,OAAA,EAAA;AACA,UAAA,OAAA,EAAA,mBAAA;AACA,YAAA,MAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,cAAA,IAAA,CAAA,KAAA,GAAA,CAAA;AACA,aAFA;;AAGA,YAAA,MAAA,CAAA,IAAA;AACA;AANA;AAHA,OAAA,CAAA;AAYA,WAAA,UAAA,CAAA,IAAA;AACA;AAxBA,GAlBA;AA4CA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA;AA5CA,CAAA","sourcesContent":["<template>\n  <transition name=\"fade\">\n    <cube-popup\n      :mask-closable=true\n      v-show=\"visible\"\n      @mask-click=\"maskClick\"\n      position=\"bottom\"\n      type=\"shop-cart-list\"\n      :z-index=90\n    >\n      <transition\n        name=\"move\"\n        @after-leave=\"afterLeave\"\n      >\n        <div v-show=\"visible\">\n          <div class=\"list-header\">\n            <h1 class=\"title\">购物车</h1>\n            <span class=\"empty\" @click=\"empty\">清空</span>\n          </div>\n          <cube-scroll class=\"list-content\" ref=\"listContent\">\n            <ul>\n              <li\n                class=\"food\"\n                v-for=\"(food,index) in selectFoods\"\n                :key=\"index\"\n              >\n                <span class=\"name\">{{food.name}}</span>\n                <div class=\"price\">\n                  <span>￥{{food.price*food.count}}</span>\n                </div>\n                <div class=\"cart-control-wrapper\">\n                  <cart-control @add=\"onAdd\" :food=\"food\"></cart-control>\n                </div>\n              </li>\n            </ul>\n          </cube-scroll>\n        </div>\n      </transition>\n    </cube-popup>\n  </transition>\n</template>\n\n<script>\n  import CartControl from 'components/cart-control/cart-control'\n  import popupMixin from 'common/mixins/popup'\n\n  const EVENT_SHOW = 'show'\n  const EVENT_ADD = 'add'\n  const EVENT_LEAVE = 'leave'\n\n  export default {\n    name: 'shop-cart-list',\n    mixins: [popupMixin],\n    props: {\n      selectFoods: {\n        type: Array,\n        default() {\n          return []\n        }\n      }\n    },\n    created() {\n      this.$on(EVENT_SHOW, () => {\n        this.$nextTick(() => {\n          this.$refs.listContent.refresh()\n        })\n      })\n    },\n    methods: {\n      onAdd(target) {\n        this.$emit(EVENT_ADD, target)\n      },\n      afterLeave() {\n        this.$emit(EVENT_LEAVE)\n      },\n      maskClick() {\n        this.hide()\n      },\n      empty() {\n        this.dialogComp = this.$createDialog({\n          type: 'confirm',\n          content: '清空购物车？',\n          $events: {\n            confirm: () => {\n              this.selectFoods.forEach((food) => {\n                food.count = 0\n              })\n              this.hide()\n            }\n          }\n        })\n        this.dialogComp.show()\n      }\n    },\n    components: {\n      CartControl\n    }\n  }\n</script>\n\n<style lang=\"stylus\" scoped>\n  @import \"~common/stylus/variable\"\n  .cube-shop-cart-list\n    bottom: 48px\n    &.fade-enter, &.fade-leave-active\n      opacity: 0\n    &.fade-enter-active, &.fade-leave-active\n      transition: all .3s ease-in-out\n    .move-enter, .move-leave-active\n      transform: translate3d(0, 100%, 0)\n    .move-enter-active, .move-leave-active\n      transition: all .3s ease-in-out\n    .list-header\n      height: 40px\n      line-height: 40px\n      padding: 0 18px\n      background: $color-background-ssss\n      .title\n        float: left\n        font-size: $fontsize-medium\n        color: $color-dark-grey\n      .empty\n        float: right\n        font-size: $fontsize-small\n        color: $color-blue\n\n    .list-content\n      padding: 0 18px\n      max-height: 217px\n      overflow: hidden\n      background: $color-white\n      .food\n        position: relative\n        padding: 12px 0\n        box-sizing: border-box\n        .name\n          line-height: 24px\n          font-size: $fontsize-medium\n          color: $color-dark-grey\n        .price\n          position: absolute\n          right: 90px\n          bottom: 12px\n          line-height: 24px\n          font-weight: 700\n          font-size: $fontsize-medium\n          color: $color-red\n        .cart-control-wrapper\n          position: absolute\n          right: 0\n          bottom: 6px\n\n</style>\n"],"sourceRoot":"src/components/shop-cart-list"}]}